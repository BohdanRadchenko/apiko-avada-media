(this["webpackJsonpapiko-client"]=this["webpackJsonpapiko-client"]||[]).push([[8],{114:function(e,a,t){e.exports={backdrop:"Modal_backdrop__17Rjj",modal:"Modal_modal__2HlWy",header:"Modal_header__L7JGU",title:"Modal_title__1_WIQ",closeButton:"Modal_closeButton__2aBww",from:"Modal_from__2if6V",subjectWrapper:"Modal_subjectWrapper__2SSD-",profileWrapper:"Modal_profileWrapper__1N36w",avatarWrapper:"Modal_avatarWrapper__BcP1q",avatar:"Modal_avatar__1CZ_s",userDataWrapper:"Modal_userDataWrapper__2c5XT",userName:"Modal_userName__1b1S3",userLocation:"Modal_userLocation__2SXq4",label:"Modal_label__3mayx",textarea:"Modal_textarea__2vjJs",submitBtn:"Modal_submitBtn__3o8I0"}},115:function(e,a,t){e.exports={container:"Product_container__EfVH1",wrapper:"Product_wrapper__2ClIU",leftSide:"Product_leftSide__Dwm3c",imageWrapper:"Product_imageWrapper__2DuIX",image:"Product_image__1REBd",description:"Product_description__2oEsr",priceWrapper:"Product_priceWrapper__38TcU",price:"Product_price__-Qi4Y",titleWrapper:"Product_titleWrapper__3WDtP",title:"Product_title__3edGt",date:"Product_date__1ElDj",locationWrapper:"Product_locationWrapper__2irbn",location:"Product_location__2O8kO",descWrapper:"Product_descWrapper__35bwk",desc:"Product_desc__Yh92k",rightSide:"Product_rightSide__3iqa5",profile:"Product_profile__Ygh4D",photoWrapper:"Product_photoWrapper__19cKh",photoInner:"Product_photoInner__29zt0",photo:"Product_photo__2nPE4",userName:"Product_userName__3CdIV",userLocation:"Product_userLocation__2fuQL",chatWrapper:"Product_chatWrapper__1-TK0",chatBtn:"Product_chatBtn__28KCV",addFavoriteWrapper:"Product_addFavoriteWrapper__34iat",addFavoriteBtn:"Product_addFavoriteBtn__3oZnu"}},120:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(71),o=t(12),i=t(8),l=t(61),s=t.n(l),p=t(59),u=t(60),m=t(114),_=t.n(m),d=function(e){var a=e.onClose,t=e.location,c=e.name,i=e.title,l=Object(r.useState)({message:""}),s=Object(o.a)(l,2),m=s[0],d=s[1],f=Object(r.createRef)(),b=function e(t){"Escape"===t.code&&(window.removeEventListener("keydown",e),a())};Object(r.useEffect)((function(){window.addEventListener("keydown",b)}));return n.a.createElement("div",{className:_.a.backdrop,ref:f,onClick:function(e){var t=f.current;t&&e.target!==t||a()}},n.a.createElement("div",{className:_.a.modal},n.a.createElement("div",{className:_.a.header},n.a.createElement("h1",{className:_.a.title},"Contact seller"),n.a.createElement("button",{onClick:function(e){return a()},className:_.a.closeButton})),n.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),a()}(e)},className:_.a.from,action:""},n.a.createElement("div",{className:_.a.subjectWrapper},n.a.createElement("p",null," Subject:"),n.a.createElement("p",null,i)),n.a.createElement("div",{className:_.a.profileWrapper},n.a.createElement("div",{className:_.a.avatarWrapper},n.a.createElement("div",{className:_.a.avatar})),n.a.createElement("div",{className:_.a.userDataWrapper},n.a.createElement("h2",{className:_.a.userName},c),n.a.createElement("p",{className:_.a.userLocation},t))),n.a.createElement("div",{className:_.a.messgeWrapper},n.a.createElement("label",{className:_.a.label,htmlFor:"message"},"Message"),n.a.createElement("textarea",{className:_.a.textarea,value:m.message,name:"message",onChange:function(e){return function(e){d(Object(u.a)({},m,Object(p.a)({},e.target.name,e.target.value)))}(e)},placeholder:"For example: Iron man suit",id:"message"})),n.a.createElement("button",{className:_.a.submitBtn},"Submit"))))},f=t(115),b=t.n(f),E=t(18),v=function(){var e=Object(r.useState)(!1),a=Object(o.a)(e,2),t=a[0],c=a[1],l=Object(r.useContext)(E.a),p=Object(i.g)(),u=Object(r.useState)([]),m=Object(o.a)(u,2),_=m[0],f=m[1],v=Object(r.useState)(null),h=Object(o.a)(v,2),N=h[0],g=h[1],P=Object(r.useState)(),j=Object(o.a)(P,2),O=j[0],W=j[1],S=Object(r.useState)(!1),k=Object(o.a)(S,2),D=k[0],w=k[1],C=p.location.pathname.split("/").splice(2)[0],y=l.id;Object(r.useEffect)((function(){s.a.get("/api/products/".concat(C)).then((function(e){var a=e.data.products,t=new Date(a.date).toString().split(" ")[2],r=new Date(a.date).toString().split(" ")[1],n=new Date(a.date).toString().split(" ")[4].split(":").slice(0,2).join(":");a.date="".concat(t," ").concat(r," ").concat(n),g(a)}))}),[C]),Object(r.useEffect)((function(){if(N){var e=N.user;s.a.get("/api/users/".concat(e)).then((function(e){return W(e.data.user)}))}}),[N]);Object(r.useEffect)((function(){l.isAuthenticated&&s.a.get("/api/users/".concat(y)).then((function(e){return f(e.data.user.favorites)}))}),[t,l.isAuthenticated,y]);return n.a.createElement(n.a.Fragment,null,D&&N&&n.a.createElement(d,Object.assign({onClose:function(e){w(!1)}},O,{title:N.title})),N&&n.a.createElement("div",{className:b.a.container},n.a.createElement("div",{className:b.a.wrapper},n.a.createElement("div",{className:b.a.leftSide},n.a.createElement("div",{className:b.a.imageWrapper},n.a.createElement("div",{className:b.a.image})),n.a.createElement("div",{className:b.a.description},n.a.createElement("div",{className:b.a.priceWrapper},n.a.createElement("p",{className:b.a.price},n.a.createElement("span",null,"$"),N.price)),n.a.createElement("div",{className:b.a.titleWrapper},n.a.createElement("h1",{className:b.a.title},N.title),n.a.createElement("p",{className:b.a.date},N.date)),n.a.createElement("div",{className:b.a.locationWrapper},n.a.createElement("p",{className:b.a.location},N.location)),n.a.createElement("div",{className:b.a.descWrapper},n.a.createElement("p",{className:b.a.desc},N.description)))),O&&n.a.createElement("div",{className:b.a.rightSide},n.a.createElement("div",{onClick:function(e){p.push("/profile/".concat(O._id))},className:b.a.profile},n.a.createElement("div",{className:b.a.photoWrapper},n.a.createElement("div",{className:b.a.photoInner},n.a.createElement("div",{className:b.a.photo}))),n.a.createElement("h2",{className:b.a.userName},O.name),n.a.createElement("p",{className:b.a.userLocation},O.location)),n.a.createElement("div",{className:b.a.chatWrapper},n.a.createElement("button",{onClick:function(e){w(!0)},className:b.a.chatBtn},"Chat with seller")),n.a.createElement("div",{className:b.a.addFavoriteWrapper},l.isAuthenticated&&n.a.createElement("button",{disabled:!(!_.includes(N._id)||t),onClick:function(e){return c(!0),void s.a.patch("/api/users/fav/add",{productId:N._id},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}}).then((function(e){return c(!1)}))},className:b.a.addFavoriteBtn},_.includes(N._id)?"favorite":"Add to favorite"),!l.isAuthenticated&&n.a.createElement("p",{className:b.a.addFavoriteBtn},"Login to add to favorites"))))))},h=t(65);a.default=function(){return n.a.createElement("div",null,n.a.createElement(c.a,null),n.a.createElement(v,null),n.a.createElement(h.a,null))}},59:function(e,a,t){"use strict";function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}t.d(a,"a",(function(){return r}))},60:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));var r=t(59);function n(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?n(Object(t),!0).forEach((function(a){Object(r.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}},62:function(e,a,t){"use strict";var r=t(12),n=t(0),c=t.n(n),o=t(61),i=t.n(o),l=t(13),s=t(18),p=t(64),u=t.n(p);a.a=function(){var e=Object(n.useState)(!1),a=Object(r.a)(e,2),t=a[0],o=a[1],p=Object(n.useState)(null),m=Object(r.a)(p,2),_=m[0],d=m[1],f=Object(n.useContext)(s.a),b=f.id;Object(n.useEffect)((function(){i.a.get("/api/users/".concat(b)).then((function(e){return d(e.data.user)}))}),[b]);return c.a.createElement("div",{className:u.a.wrapper},c.a.createElement("div",{onClick:function(e){o(!t)},className:u.a.container},c.a.createElement("div",{className:u.a.photoProfile})),t&&c.a.createElement("div",{className:u.a.dropDownWrapper},_&&c.a.createElement("div",{className:u.a.descriptions},c.a.createElement("div",{className:u.a.leftSide},c.a.createElement("div",{className:u.a.photoWrapper},c.a.createElement("div",{className:u.a.photoProfile}))),c.a.createElement("div",{className:u.a.rightSide},c.a.createElement("h2",{className:u.a.name},_.name),c.a.createElement("p",{className:u.a.email},_.email),c.a.createElement(l.b,{to:"/profile/".concat(b),className:u.a.linkProfile},"Profile"))),c.a.createElement(l.b,{to:"/profile/edit",className:u.a.linkEditProfile},"Edit profile"),c.a.createElement("button",{onClick:function(e){f.logout()},className:u.a.logout},"Logout")))}},64:function(e,a,t){e.exports={wrapper:"DropProfile_wrapper__25ygu",container:"DropProfile_container__etjR9",photoProfile:"DropProfile_photoProfile__2K58a",dropDownWrapper:"DropProfile_dropDownWrapper__25bCk",descriptions:"DropProfile_descriptions__tPItc",leftSide:"DropProfile_leftSide__3iGiQ",photoWrapper:"DropProfile_photoWrapper__2kjAI",rightSide:"DropProfile_rightSide__2vG0i",name:"DropProfile_name__9SsGe",email:"DropProfile_email__3rcEK",linkProfile:"DropProfile_linkProfile__1Wn2i",linkEditProfile:"DropProfile_linkEditProfile__3kuUp",logout:"DropProfile_logout__2uRBn"}},65:function(e,a,t){"use strict";var r=t(0),n=t.n(r),c=t(66),o=t.n(c);a.a=function(){return n.a.createElement("div",{className:o.a.container},n.a.createElement("p",null,"Copyright \xa9 2017. Privacy Policy."))}},66:function(e,a,t){e.exports={container:"Footer_container__27olY"}},69:function(e,a,t){e.exports={container:"SearchForm_container__3LCYp",searchForm:"SearchForm_searchForm__EEzkL",input:"SearchForm_input__dutwA",nameWrapper:"SearchForm_nameWrapper__304b0",locationWrapper:"SearchForm_locationWrapper__327LI",submitBtn:"SearchForm_submitBtn__2KJI_"}},70:function(e,a,t){e.exports={backgroundWrapper:"Header_backgroundWrapper__2i1TQ",container:"Header_container__1rXI-",mainWrapper:"Header_mainWrapper__2sei6",logo:"Header_logo__1u9tn",navigations:"Header_navigations__2IOB5",inbox:"Header_inbox__UUg6I",inboxOn:"Header_inboxOn__3zDtX Header_inbox__UUg6I",button:"Header_button__3l3ns",loginLink:"Header_loginLink__4G567",favorite:"Header_favorite__3uhRz",favoriteCheked:"Header_favoriteCheked__fnVdE Header_favorite__3uhRz"}},71:function(e,a,t){"use strict";var r=t(0),n=t.n(r),c=t(8),o=t(13),i=t(18),l=t(59),s=t(60),p=t(12),u=t(69),m=t.n(u),_=function(){var e={name:"",location:""},a=Object(r.useState)(e),t=Object(p.a)(a,2),c=t[0],o=t[1],i=function(e){o(Object(s.a)({},c,Object(l.a)({},e.target.name,e.target.value)))};return n.a.createElement("div",{className:m.a.container},n.a.createElement("form",{onSubmit:function(a){return function(a){a.preventDefault(),o(e)}(a)},className:m.a.searchForm},n.a.createElement("div",{className:m.a.nameWrapper},n.a.createElement("input",{className:m.a.inputName,value:c.name,name:"name",onChange:function(e){return i(e)},placeholder:"Search products by name",type:"text"})),n.a.createElement("div",{className:m.a.locationWrapper},n.a.createElement("input",{className:m.a.inputlocation,value:c.location,name:"location",onChange:function(e){return i(e)},placeholder:"Location",type:"text"})),n.a.createElement("button",{className:m.a.submitBtn,type:"submit"},"Search")))},d=t(62),f=t(70),b=t.n(f);a.a=function(){var e=Object(r.useContext)(i.a),a=Object(c.g)().location.pathname,t=Object(c.g)();return n.a.createElement("div",{className:b.a.backgroundWrapper},n.a.createElement("div",{className:b.a.container},n.a.createElement("div",{className:b.a.mainWrapper},n.a.createElement(o.b,{to:"/home",className:b.a.logo}),n.a.createElement("nav",{className:b.a.navigations},e.isAuthenticated&&n.a.createElement(o.b,{to:"/inbox",className:b.a.inboxOn}),n.a.createElement("button",{onClick:function(e){t.push("/create")},className:b.a.button},"sell"),!e.isAuthenticated&&n.a.createElement(o.b,{to:"/login",className:b.a.loginLink},"login"),e.isAuthenticated&&n.a.createElement(d.a,null),n.a.createElement(o.b,{to:"/product/favorite",className:"/product/favorite"===a?b.a.favoriteCheked:b.a.favorite})))),n.a.createElement(_,null))}}}]);
//# sourceMappingURL=8.06ae893d.chunk.js.map